# Portable WBS Tool

Python (Flask) と React (Vite) で構築された、ローカル環境で動作するWBS（Work Breakdown Structure）およびガントチャート管理ツール。
インターネット接続が不要で、小規模チームやオフライン環境でのプロジェクト管理に最適です。

## 主な機能
- **タスク管理**: WBS形式でのタスク階層管理、担当者割り当て、進捗管理。
- **ガントチャート**: 直感的なガントチャート表示、マイルストーン設定、依存関係（表示のみ）。
- **ローカル動作**: 全データはローカルのJSONファイルに保存され、自動バックアップ機能も搭載。
- **管理者モード**: ユーザー管理、全タスクの編集・削除権限。
- **バッチファイル運用**: 各メンバー用の起動バッチファイルを生成し、簡単に担当者モードで起動可能。

---

## 動作環境
- **OS**: Windows, macOS, Linux
- **必須ソフト**: Python 3.9以上 (macOS/Linuxの場合は `python3`)

## インストールとセットアップ

1. **Pythonのインストール**:
   Pythonがインストールされていない場合は、公式サイトからインストールしてください。

2. **セットアップスクリプトの実行**:
   （開発者向け： `npm install` や `pip install` が必要な場合がありますが、配布版では `start_admin.bat` または `start_user.bat` を実行するだけで環境構築が試みられます）

   初回起動時に自動的に仮想環境 (`.venv`) が作成され、必要な依存ライブラリがインストールされます。

## 起動方法

### 管理者として起動
プロジェクトフォルダ内の **`start_admin.bat`** (Windows) または **`start_admin.command`** (macOS) を実行してください。
- ログイン画面で管理パスワードを入力します（初期パスワード: **admin**）。
- ユーザーの追加、バッチファイルの出力、タスクの編集が行えます。

### 一般ユーザーとして起動
プロジェクトフォルダ内の **`start_user.bat`** を実行するか、管理者から配布された **`start_[ユーザー名].bat`** を実行してください。
- `start_[ユーザー名].bat` を使用すると、自動的にそのユーザーとしてログインします。
- 自分の担当タスクの進捗更新のみが許可されます。

---

## 管理者向け操作ガイド

### ユーザーの追加と配布
1. 管理者モードでログインします。
2. ヘッダー右上の「設定」ボタンをクリックし、「ユーザー管理」を開きます。
3. 「新規ユーザー追加」欄に名前を入力して追加します。
4. 追加されたユーザーの横にある「Win用バッチ」または「Mac用コマンド」ボタンをクリックします。
5. ダウンロードされたファイルを、該当するメンバーに配布してください。
   - メンバーはそのファイルをダブルクリックするだけで、専用モードでアプリを利用開始できます。

### パスワードの変更
`config.ini` ファイル内の `admin_password_hash` を変更することで管理者パスワードを変更できます（SHA-256ハッシュ値）。
デフォルト (admin) のハッシュ値: `8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918`

## ディレクトリ構成
- `bin/app/`: バックエンド (Flask) ソースコード
- `bin/data/`: データ保存場所 (`data.json`)
- `frontend/`: フロントエンド (React) ソースコード
- `backup/`: 自動バックアップフォルダ

## 開発者向け情報
- フロントエンド開発: `cd frontend` -> `npm install` -> `npm run dev`
- バックエンド開発: `python bin/app/server.py`
